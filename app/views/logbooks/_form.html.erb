<%= form_with(model: logbook, class: "space-y-6") do |form| %>

  <% if logbook.errors.any? %>
    <div class="rounded-md bg-red-50 p-4">
      <div class="flex">
        <div class="flex-shrink-0">
          <svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 8 0 000 16zm-.75-11.5a.75.75 0 011.5 0v4a.75.75 0 01-1.5 0v-4zm.75 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
          </svg>
        </div>
        <div class="ml-3">
          <h3 class="text-sm font-medium text-red-800">
            <%= pluralize(logbook.errors.count, "error") %> prohibited this entry from being saved:
          </h3>
          <div class="mt-2 text-sm text-red-700">
            <ul class="list-disc space-y-1 pl-5">
              <% logbook.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        </div>
      </div>
    </div>
  <% end %>

  <!-- Type of entry -->
  <div>
    <%= form.label :cup_type, "What are you logging?", class: "block text-xs font-semibold tracking-wide text-gray-600 uppercase" %>

    <div class="mt-3 grid grid-cols-1 gap-3 rounded-xl">

      <!-- Coffee -->
      <label class="flex items-center justify-between rounded-xl border border-gray-200 bg-white/80 px-4 py-3 shadow-sm
                    cursor-pointer transition peer-checked:border-purple-500 peer-checked:bg-purple-50 peer-checked:shadow-md">

        <!-- Peer-Input: muss VOR den Elementen mit peer-checked stehen -->
        <%= form.radio_button :cup_type, "Coffee",
              class: "peer sr-only",
              checked: (logbook.cup_type.blank? || logbook.cup_type == "Coffee") %>

        <!-- Inhalt links -->
        <div class="flex items-center space-x-3">
          <span class="text-xl">‚òï</span>
          <div class="flex flex-col">
            <span class="text-sm font-medium text-gray-900">Coffee</span>
            <span class="text-xs text-gray-500">Single cup</span>
          </div>
        </div>

        <!-- Fake-Radio rechts -->
        <div class="h-4 w-4 rounded-full border border-gray-300
                    peer-checked:border-purple-500 peer-checked:bg-purple-500"></div>
      </label>

      <!-- Coffee Package (mit Gr√∂√üe) -->
      <!-- Coffee Package 250g -->
      <label class="flex items-center justify-between rounded-xl border border-gray-200 bg-white/80 px-4 py-3 shadow-sm
              cursor-pointer transition peer-checked:border-purple-500 peer-checked:bg-purple-50 peer-checked:shadow-md">
        <%= form.radio_button :cup_type, "Probe Package",
              class: "peer sr-only",
              checked: (logbook.cup_type == "Probe Package") %>
        <div class="flex items-center space-x-3">
          <span class="text-xl">üõçÔ∏è</span>
          <div class="flex flex-col">
            <span class="text-sm font-medium text-gray-900">Probe Package</span>
            <span class="text-xs text-gray-500">250g package</span>
          </div>
        </div>

        <div class="h-4 w-4 rounded-full border border-gray-300
                    peer-checked:border-purple-500 peer-checked:bg-purple-500"></div>
        <!-- %= form.hidden_field :package_size_grams, value: 250 % -->
      </label>


      <!-- Coffee Package 500g -->
      <label class="flex items-center justify-between rounded-xl border border-gray-200 bg-white/80 px-4 py-3 shadow-sm
                    cursor-pointer transition peer-checked:border-purple-500 peer-checked:bg-purple-50 peer-checked:shadow-md">

        <%= form.radio_button :cup_type, "Plauen Gold Package",
              class: "peer sr-only",
              checked: (logbook.cup_type == "Plauen Gold Package") %>

        <div class="flex items-center space-x-3">
          <span class="text-xl">üì¶</span>
          <div class="flex flex-col">
            <span class="text-sm font-medium text-gray-900">Plauen Gold Package</span>
            <span class="text-xs text-gray-500">500g package</span>
          </div>
        </div>

        <div class="h-4 w-4 rounded-full border border-gray-300
                    peer-checked:border-purple-500 peer-checked:bg-purple-500"></div>

        <!-- %= form.hidden_field :package_size_grams, value: 500 % -->
      </label>
    </div>
  </div>

  <!-- Amount -->
  <div>
    <%= form.label :amount, "Amount of Cups", class: "block text-sm font-medium text-gray-700" %>
    <div class="mt-1">
      <%= form.select :amount,
            options_for_select((1..10).to_a, logbook.amount || 1),
            {},
            class: "shadow-sm focus:ring-purple-500 focus:border-purple-500 block w-full sm:text-sm border-gray-300 rounded-md" %>
    </div>
  </div>

  <div class="pt-5">
    <div class="flex justify-end">
      <%= link_to "Cancel", logbooks_path, class: "bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500" %>
      <%= form.submit "Add Usage", class: "ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500" %>
    </div>
  </div>
<% end %>